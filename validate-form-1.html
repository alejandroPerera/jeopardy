<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">       
  <title>Example: Form and JS</title>    
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" />
  
  <style>
    a:hover
    {
      background-color:yellow;
    }       
  </style>    
</head>

<body>
  <div class="container">
    <h2>Form validation 1</h2>
    
    <form action="" name="RegisterForm" method="post" onsubmit="return checkRegistration()">
      <div class="form-group">
        <label for="age">Age: </label> <div id="feedback_age" class="feedback"></div>
        <input type="text" id ="age" class="form-control" placeholder="Enter your age" />
      </div>
      <div class="form-group">
        <label for="major">Major: </label> <div id="feedback_major" class="feedback"></div>
        <input type="text" id="major" class="form-control" placeholder="Enter your major" /> 
      </div> 
      <div class="form-group">
        <label for="sid">Student ID: </label> <div id="feedback_id" class="feedback"></div>
        <input type="text" id="sid" class="form-control" placeholder="Enter your student ID" />
      </div>
      <input type="submit" value="Submit Registration" class="btn btn-secondary" />       
    </form> 
    
  </div>


<script>
function isInt(str)
{
   var val = parseInt(str);
   return (val > 0);
}

function checkPattern(str)
{ 
   // test if str matches the pattern		
   var pattern = new RegExp("[a-z]{2,3}[1-9][a-z]{1,3}");
   var match_test = pattern.test(str);
   return match_test;
}
 
// Four tests:
// 1) Age is an integer
// 2) Major is not an integer
// 3) Major is not missing
// 4) Student number is in proper format 
// If any tests doesn't pass, submission is canceled.

// Write a function to do the four tests (above). 
// You may use the provided helper functions (isInt and checkPattern).  

// If something needs to be fixed, alert the users with a popup (modal dialog box) 
// and return false so that the form will not be submitted

function checkRegistration()
{   
   var age = document.getElementById("age");
   var feedback_age = document.getElementById("feedback_age")
   if (!isInt(age.value))
   {
      feedback_age.textContent = "Age must be an integer."
      return false;
   }
   else {
      feedback_age.textContent = ""
   }
   var major = document.getElementById("major")
   var feedback_major = document.getElementById("feedback_major")
   if (isInt(major.value))
   {
      feedback_major.textContent = "Use major name, not major number."
      // alert ("Use major name, not major number.");
      return false;
   }
   else {
      feedback_major.textContent = ""
   }
   if (major.value.length <= 0)
   {
      feedback_major.textContent = "Missing major."
    // alert ("Missing major.");
      return false;
   }
   var sid = document.getElementById("sid");
   var feedback_id = document.getElementById("feedback_id");
   if (sid.value.length < 4 || sid.value.length > 6)          // assume UVA computingID  xxx9xxx
   {
      feedback_id.textContent = "Student ID must be 4 to 6 characters";
      // alert ("Student ID must be 4 to 6 characters");
      return false;
   }
   if (!checkPattern(sid.value))
   {
      feedback_id.textContent = "Student ID must be in the UVA computingID format";
      // alert("Student ID must be in the UVA computingID format");
      return false;
   }
   else {
    feedback_id.textContent = "";
   }
   
   // Data types and values are acceptable, format looks OK; form can be submitted.
   return true;

}
</script>
 
</body>
</html>

